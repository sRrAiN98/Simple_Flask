apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  creationTimestamp: "2024-10-12T15:06:24Z"
  generation: 942
  name: istiod
  namespace: argocd
  resourceVersion: "461087"
  uid: 62c6b6a0-6749-4c0d-a933-8de2bbfd1a49
spec:
  destination:
    namespace: istio-system
    server: https://kubernetes.default.svc
  project: default
  source:
    chart: istiod
    helm:
      valueFiles:
      - values.yaml
      values: |-
        defaults:
          pilot:
            resources:
              requests:
                cpu: 300m
                memory: 2048Mi
        global:
          proxy:
            init:
              resources:
                requests:
                  cpu: 10m
                  memory: 128Mi
                limits:
                  cpu: 2000m
                  memory: 1024Mi
    repoURL: https://istio-release.storage.googleapis.com/charts
    targetRevision: 1.23.2
  syncPolicy:
    automated: {}
    syncOptions:
    - CreateNamespace=true
status:
  conditions:
  - lastTransitionTime: "2024-10-14T13:33:02Z"
    message: 'Failed to load target state: failed to generate manifest for source
      1 of 1: rpc error: code = Unavailable desc = connection error: desc = "transport:
      Error while dialing: dial tcp: lookup argocd-repo-server: i/o timeout"'
    type: ComparisonError
  controllerNamespace: argocd
  health:
    status: Healthy
  history:
  - deployStartedAt: "2024-10-12T15:06:25Z"
    deployedAt: "2024-10-12T15:06:44Z"
    id: 0
    initiatedBy:
      automated: true
    revision: 1.23.2
    source:
      chart: istiod
      helm:
        valueFiles:
        - values.yaml
        values: |-
          defaults:
            pilot:
              resources:
                requests:
                  cpu: 300m
                  memory: 2048Mi
          global:
            proxy:
              init:
                resources:
                  requests:
                    cpu: 10m
                    memory: 128Mi
                  limits:
                    cpu: 2000m
                    memory: 1024Mi
      repoURL: https://istio-release.storage.googleapis.com/charts
      targetRevision: 1.23.2
  operationState:
    finishedAt: "2024-10-12T15:06:46Z"
    message: successfully synced (all tasks run)
    operation:
      initiatedBy:
        automated: true
      retry:
        limit: 5
      sync:
        revision: 1.23.2
        syncOptions:
        - CreateNamespace=true
    phase: Succeeded
    startedAt: "2024-10-12T15:06:25Z"
    syncResult:
      resources:
      - group: ""
        hookPhase: Running
        kind: Namespace
        message: namespace/istio-system created
        name: istio-system
        namespace: ""
        status: Synced
        syncPhase: PreSync
        version: v1
      - group: policy
        hookPhase: Running
        kind: PodDisruptionBudget
        message: poddisruptionbudget.policy/istiod created
        name: istiod
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: ""
        hookPhase: Running
        kind: ServiceAccount
        message: serviceaccount/istiod created
        name: istiod
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: ""
        hookPhase: Running
        kind: ConfigMap
        message: configmap/istio created
        name: istio
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: ""
        hookPhase: Running
        kind: ConfigMap
        message: configmap/istio-sidecar-injector created
        name: istio-sidecar-injector
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: rbac.authorization.k8s.io
        hookPhase: Running
        kind: ClusterRole
        message: "clusterrole.rbac.authorization.k8s.io/istiod-gateway-controller-istio-system
          reconciled. reconciliation required create\n\tmissing rules added:\n\t\t{Verbs:[get
          watch list update patch create delete] APIGroups:[apps] Resources:[deployments]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get watch list update
          patch create delete] APIGroups:[] Resources:[services] ResourceNames:[]
          NonResourceURLs:[]}\n\t\t{Verbs:[get watch list update patch create delete]
          APIGroups:[] Resources:[serviceaccounts] ResourceNames:[] NonResourceURLs:[]}.
          clusterrole.rbac.authorization.k8s.io/istiod-gateway-controller-istio-system
          configured. Warning: resource clusterroles/istiod-gateway-controller-istio-system
          is missing the kubectl.kubernetes.io/last-applied-configuration annotation
          which is required by  apply.  apply should only be used on resources created
          declaratively by either  create --save-config or  apply. The missing annotation
          will be patched automatically."
        name: istiod-gateway-controller-istio-system
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: rbac.authorization.k8s.io
        hookPhase: Running
        kind: ClusterRole
        message: "clusterrole.rbac.authorization.k8s.io/istiod-clusterrole-istio-system
          reconciled. reconciliation required create\n\tmissing rules added:\n\t\t{Verbs:[get
          list watch update patch] APIGroups:[admissionregistration.k8s.io] Resources:[mutatingwebhookconfigurations]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get list watch update]
          APIGroups:[admissionregistration.k8s.io] Resources:[validatingwebhookconfigurations]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get watch list] APIGroups:[config.istio.io
          security.istio.io networking.istio.io authentication.istio.io rbac.istio.io
          telemetry.istio.io extensions.istio.io] Resources:[*] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get
          watch list update patch create delete] APIGroups:[networking.istio.io] Resources:[workloadentries]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get watch list update
          patch create delete] APIGroups:[networking.istio.io] Resources:[workloadentries/status]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get watch list update
          patch] APIGroups:[networking.istio.io] Resources:[serviceentries/status]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get list watch] APIGroups:[apiextensions.k8s.io]
          Resources:[customresourcedefinitions] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get
          list watch] APIGroups:[] Resources:[pods nodes services namespaces endpoints]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get list watch] APIGroups:[discovery.k8s.io]
          Resources:[endpointslices] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get
          list watch] APIGroups:[networking.k8s.io] Resources:[ingresses ingressclasses]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[*] APIGroups:[networking.k8s.io]
          Resources:[ingresses/status] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[create
          get list watch update] APIGroups:[] Resources:[configmaps] ResourceNames:[]
          NonResourceURLs:[]}\n\t\t{Verbs:[create] APIGroups:[authentication.k8s.io]
          Resources:[tokenreviews] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[create]
          APIGroups:[authorization.k8s.io] Resources:[subjectaccessreviews] ResourceNames:[]
          NonResourceURLs:[]}\n\t\t{Verbs:[get watch list] APIGroups:[networking.x-k8s.io
          gateway.networking.k8s.io] Resources:[*] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[update
          patch] APIGroups:[networking.x-k8s.io gateway.networking.k8s.io] Resources:[*]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[create update patch delete]
          APIGroups:[gateway.networking.k8s.io] Resources:[gatewayclasses] ResourceNames:[]
          NonResourceURLs:[]}\n\t\t{Verbs:[get watch list] APIGroups:[] Resources:[secrets]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get watch list create
          delete] APIGroups:[multicluster.x-k8s.io] Resources:[serviceexports] ResourceNames:[]
          NonResourceURLs:[]}\n\t\t{Verbs:[get watch list] APIGroups:[multicluster.x-k8s.io]
          Resources:[serviceimports] ResourceNames:[] NonResourceURLs:[]}. clusterrole.rbac.authorization.k8s.io/istiod-clusterrole-istio-system
          configured. Warning: resource clusterroles/istiod-clusterrole-istio-system
          is missing the kubectl.kubernetes.io/last-applied-configuration annotation
          which is required by  apply.  apply should only be used on resources created
          declaratively by either  create --save-config or  apply. The missing annotation
          will be patched automatically."
        name: istiod-clusterrole-istio-system
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: rbac.authorization.k8s.io
        hookPhase: Running
        kind: ClusterRole
        message: "clusterrole.rbac.authorization.k8s.io/istio-reader-clusterrole-istio-system
          reconciled. reconciliation required create\n\tmissing rules added:\n\t\t{Verbs:[get
          list watch] APIGroups:[config.istio.io security.istio.io networking.istio.io
          authentication.istio.io rbac.istio.io telemetry.istio.io extensions.istio.io]
          Resources:[*] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get list
          watch] APIGroups:[] Resources:[endpoints pods services nodes replicationcontrollers
          namespaces secrets] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get
          watch list] APIGroups:[networking.istio.io] Resources:[workloadentries]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get watch list] APIGroups:[networking.x-k8s.io
          gateway.networking.k8s.io] Resources:[gateways] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get
          list watch] APIGroups:[apiextensions.k8s.io] Resources:[customresourcedefinitions]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get list watch] APIGroups:[discovery.k8s.io]
          Resources:[endpointslices] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get
          list watch create delete] APIGroups:[multicluster.x-k8s.io] Resources:[serviceexports]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get list watch] APIGroups:[multicluster.x-k8s.io]
          Resources:[serviceimports] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get
          list watch] APIGroups:[apps] Resources:[replicasets] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[create]
          APIGroups:[authentication.k8s.io] Resources:[tokenreviews] ResourceNames:[]
          NonResourceURLs:[]}\n\t\t{Verbs:[create] APIGroups:[authorization.k8s.io]
          Resources:[subjectaccessreviews] ResourceNames:[] NonResourceURLs:[]}. clusterrole.rbac.authorization.k8s.io/istio-reader-clusterrole-istio-system
          configured. Warning: resource clusterroles/istio-reader-clusterrole-istio-system
          is missing the kubectl.kubernetes.io/last-applied-configuration annotation
          which is required by  apply.  apply should only be used on resources created
          declaratively by either  create --save-config or  apply. The missing annotation
          will be patched automatically."
        name: istio-reader-clusterrole-istio-system
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: rbac.authorization.k8s.io
        hookPhase: Running
        kind: ClusterRoleBinding
        message: "clusterrolebinding.rbac.authorization.k8s.io/istiod-clusterrole-istio-system
          reconciled. reconciliation required create\n\tmissing subjects added:\n\t\t{Kind:ServiceAccount
          APIGroup: Name:istiod Namespace:istio-system}. clusterrolebinding.rbac.authorization.k8s.io/istiod-clusterrole-istio-system
          configured. Warning: resource clusterrolebindings/istiod-clusterrole-istio-system
          is missing the kubectl.kubernetes.io/last-applied-configuration annotation
          which is required by  apply.  apply should only be used on resources created
          declaratively by either  create --save-config or  apply. The missing annotation
          will be patched automatically."
        name: istiod-clusterrole-istio-system
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: rbac.authorization.k8s.io
        hookPhase: Running
        kind: ClusterRoleBinding
        message: "clusterrolebinding.rbac.authorization.k8s.io/istiod-gateway-controller-istio-system
          reconciled. reconciliation required create\n\tmissing subjects added:\n\t\t{Kind:ServiceAccount
          APIGroup: Name:istiod Namespace:istio-system}. clusterrolebinding.rbac.authorization.k8s.io/istiod-gateway-controller-istio-system
          configured. Warning: resource clusterrolebindings/istiod-gateway-controller-istio-system
          is missing the kubectl.kubernetes.io/last-applied-configuration annotation
          which is required by  apply.  apply should only be used on resources created
          declaratively by either  create --save-config or  apply. The missing annotation
          will be patched automatically."
        name: istiod-gateway-controller-istio-system
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: rbac.authorization.k8s.io
        hookPhase: Running
        kind: ClusterRoleBinding
        message: "clusterrolebinding.rbac.authorization.k8s.io/istio-reader-clusterrole-istio-system
          reconciled. reconciliation required create\n\tmissing subjects added:\n\t\t{Kind:ServiceAccount
          APIGroup: Name:istio-reader-service-account Namespace:istio-system}. clusterrolebinding.rbac.authorization.k8s.io/istio-reader-clusterrole-istio-system
          configured. Warning: resource clusterrolebindings/istio-reader-clusterrole-istio-system
          is missing the kubectl.kubernetes.io/last-applied-configuration annotation
          which is required by  apply.  apply should only be used on resources created
          declaratively by either  create --save-config or  apply. The missing annotation
          will be patched automatically."
        name: istio-reader-clusterrole-istio-system
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: rbac.authorization.k8s.io
        hookPhase: Running
        kind: Role
        message: "role.rbac.authorization.k8s.io/istiod reconciled. reconciliation
          required create\n\tmissing rules added:\n\t\t{Verbs:[create] APIGroups:[networking.istio.io]
          Resources:[gateways] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[create
          get watch list update delete] APIGroups:[] Resources:[secrets] ResourceNames:[]
          NonResourceURLs:[]}\n\t\t{Verbs:[delete] APIGroups:[] Resources:[configmaps]
          ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get update patch create]
          APIGroups:[coordination.k8s.io] Resources:[leases] ResourceNames:[] NonResourceURLs:[]}.
          role.rbac.authorization.k8s.io/istiod configured. Warning: resource roles/istiod
          is missing the kubectl.kubernetes.io/last-applied-configuration annotation
          which is required by  apply.  apply should only be used on resources created
          declaratively by either  create --save-config or  apply. The missing annotation
          will be patched automatically."
        name: istiod
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: rbac.authorization.k8s.io
        hookPhase: Running
        kind: RoleBinding
        message: "rolebinding.rbac.authorization.k8s.io/istiod reconciled. reconciliation
          required create\n\tmissing subjects added:\n\t\t{Kind:ServiceAccount APIGroup:
          Name:istiod Namespace:istio-system}. rolebinding.rbac.authorization.k8s.io/istiod
          configured. Warning: resource rolebindings/istiod is missing the kubectl.kubernetes.io/last-applied-configuration
          annotation which is required by  apply.  apply should only be used on resources
          created declaratively by either  create --save-config or  apply. The missing
          annotation will be patched automatically."
        name: istiod
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: ""
        hookPhase: Running
        kind: Service
        message: service/istiod created
        name: istiod
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: apps
        hookPhase: Running
        kind: Deployment
        message: deployment.apps/istiod created
        name: istiod
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: autoscaling
        hookPhase: Running
        kind: HorizontalPodAutoscaler
        message: horizontalpodautoscaler.autoscaling/istiod created
        name: istiod
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v2
      - group: admissionregistration.k8s.io
        hookPhase: Running
        kind: MutatingWebhookConfiguration
        message: mutatingwebhookconfiguration.admissionregistration.k8s.io/istio-sidecar-injector
          created
        name: istio-sidecar-injector
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      - group: admissionregistration.k8s.io
        hookPhase: Running
        kind: ValidatingWebhookConfiguration
        message: validatingwebhookconfiguration.admissionregistration.k8s.io/istio-validator-istio-system
          created
        name: istio-validator-istio-system
        namespace: istio-system
        status: Synced
        syncPhase: Sync
        version: v1
      revision: 1.23.2
      source:
        chart: istiod
        helm:
          valueFiles:
          - values.yaml
          values: |-
            defaults:
              pilot:
                resources:
                  requests:
                    cpu: 300m
                    memory: 2048Mi
            global:
              proxy:
                init:
                  resources:
                    requests:
                      cpu: 10m
                      memory: 128Mi
                    limits:
                      cpu: 2000m
                      memory: 1024Mi
        repoURL: https://istio-release.storage.googleapis.com/charts
        targetRevision: 1.23.2
  reconciledAt: "2024-10-14T13:48:02Z"
  resources:
  - kind: ConfigMap
    name: istio
    namespace: istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - kind: ConfigMap
    name: istio-sidecar-injector
    namespace: istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - health:
      status: Healthy
    kind: Service
    name: istiod
    namespace: istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - kind: ServiceAccount
    name: istiod
    namespace: istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - group: admissionregistration.k8s.io
    kind: MutatingWebhookConfiguration
    name: istio-sidecar-injector
    requiresPruning: true
    status: Unknown
    version: v1
  - group: admissionregistration.k8s.io
    kind: ValidatingWebhookConfiguration
    name: istio-validator-istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - group: apps
    health:
      status: Healthy
    kind: Deployment
    name: istiod
    namespace: istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - group: autoscaling
    health:
      message: the HPA controller was able to get the target's current scale
      status: Healthy
    kind: HorizontalPodAutoscaler
    name: istiod
    namespace: istio-system
    requiresPruning: true
    status: Unknown
    version: v2
  - group: policy
    kind: PodDisruptionBudget
    name: istiod
    namespace: istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - group: rbac.authorization.k8s.io
    kind: ClusterRole
    name: istio-reader-clusterrole-istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - group: rbac.authorization.k8s.io
    kind: ClusterRole
    name: istiod-clusterrole-istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - group: rbac.authorization.k8s.io
    kind: ClusterRole
    name: istiod-gateway-controller-istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - group: rbac.authorization.k8s.io
    kind: ClusterRoleBinding
    name: istio-reader-clusterrole-istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - group: rbac.authorization.k8s.io
    kind: ClusterRoleBinding
    name: istiod-clusterrole-istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - group: rbac.authorization.k8s.io
    kind: ClusterRoleBinding
    name: istiod-gateway-controller-istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - group: rbac.authorization.k8s.io
    kind: Role
    name: istiod
    namespace: istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  - group: rbac.authorization.k8s.io
    kind: RoleBinding
    name: istiod
    namespace: istio-system
    requiresPruning: true
    status: Unknown
    version: v1
  summary:
    images:
    - docker.io/istio/pilot:1.23.2
  sync:
    comparedTo:
      destination:
        namespace: istio-system
        server: https://kubernetes.default.svc
      source:
        chart: istiod
        helm:
          valueFiles:
          - values.yaml
          values: |-
            defaults:
              pilot:
                resources:
                  requests:
                    cpu: 300m
                    memory: 2048Mi
            global:
              proxy:
                init:
                  resources:
                    requests:
                      cpu: 10m
                      memory: 128Mi
                    limits:
                      cpu: 2000m
                      memory: 1024Mi
        repoURL: https://istio-release.storage.googleapis.com/charts
        targetRevision: 1.23.2
    status: Unknown
